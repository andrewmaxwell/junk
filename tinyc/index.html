<style>
  * {box-sizing: border-box}
  body {font-family: sans-serif}
  label {display: block}
  a {color: #AAF}
  textarea, pre {
    width: 100%;
    height: 300px;
    background: #333;
    color: white;
    overflow: auto;
    margin: 0;
    padding: 5px
  }
  @keyframes sweep {
    0%    {opacity: 0; margin-left: -10px}
    100%  {opacity: 1; margin-left: 0px}
  }
  details[open] summary ~ * {
    animation: sweep .5s ease-in-out;
  }  
  .container {width: 100%; display: flex; margin-bottom: 32px}
  .item {flex: 1 1 auto; margin-right: 20px; position: relative}
  .arrow {position: absolute; top: 50%; left: -18px; font-size: 20px}
  .lineNum {display: inline-block; opacity: 0.25; width: 30px}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css" integrity="sha512-rO+olRTkcf304DQBxSWxln8JXCzTHlKnIdnMUwYvQa9/Jd4cQaNkItIUj6Z4nvW1dqK0SKXLbn9h4KwZTNtAyw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<body style="background: #222; color: #EEE">
  <h1>Tiny Compiler</h1>
  <p>The input is editable. The tokens, syntax tree, assembly, and results update in real time. Inspired by Mark Feeley's
    <a href="http://www.iro.umontreal.ca/~felipe/IFT2030-Automne2002/Complements/tinyc.c" target="_blank">tinyc.c</a>
  </p>
  <details style="margin: 10px 0 30px 0">
    <summary style="cursor:pointer">Learn how it works</summary>
    <p>The input is converted to tokens by the tokenizer:</p>
    <pre><code id="tokenize"></code></pre>
    <p>The tokens are converted to a syntax tree by the parser (this is the most complicated part):</p>
    <pre><code id="parse"></code></pre>
    <p>The syntax tree is recursively converted to assembly by this code:</p>
    <pre><code id="toAsm"></code></pre>
    <p>The assembly code is evaluated using this code:</p>
    <pre><code id="runAsm"></code></pre>
  </details>
  <div class="examples"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js" integrity="sha512-bgHRAiTjGrzHzLyKOnpFvaEpGzJet3z4tZnXGjpsCcqOnAH6VGUx9frc5bcIhKTVLEiCO6vEhNAgx5jtLUYrfA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script type="module" src="main.js"></script>
</body>